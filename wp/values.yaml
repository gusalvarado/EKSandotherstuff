#Deployment
deployment:
  name: wordpress
  replicaCount: 1
  containerName: wordpress
  image:
    repository: gusalvarado/k8s-wp:latest
    pullPolicy: IfNotPresent
    command:
    - "sh"
    - "-c"
    - "echo 'Hello, Kubernetes!'"
  secret:
    name: wordpress-secret
  configMap:
    name: wordpress-config
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 250m
      memory: 256Mi
  persistentVolumeClaim:
    name: wordpress-pvc
    mountPath: /var/www/html
#Service
service:
  name: wordpress
  portName: http
  port: 80
  targetPort: 80
  type: LoadBalancer
#Ingress
ingress:
  host: wordpress.local
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: "/"
#Secret
secret:
  name: wordpress-secret
  data:
    DB_NAME: d29yZHByZXNz
    DB_USER: d29yZHByZXNz
    DB_PASSWORD: d29yZHByZXNz
#ConfigMap
cm:
  name: wordpress-config
  data:
    info.php: |
      <?php
      phpinfo();
#PersistentVolume
persistentVolume:
  name: wordpress-pv
  accessModes:
    - ReadWriteMany
  capacity: 1Gi
  storageClass: gp2
  hostPath: /mnt/data
#PersistentVolumeClaim
persistentVolumeClaim:
  name: wordpress-pvc
  storage: 500Mi